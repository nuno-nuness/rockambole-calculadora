<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Casa Rockambole — Calculadora de Orçamento</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="description" content="Monte seu orçamento de evento corporativo na Casa Rockambole em poucos passos."/>
  <style>
    :root { --rock-lime: #dce293; }
    body { min-height: 100vh; overflow-y: auto; -webkit-overflow-scrolling: touch; }
    .soft-card { border-radius: 1.25rem; box-shadow: 0 10px 30px rgba(0,0,0,.08); }
    .graphic-bg { position: relative; min-height: 100vh; }
    .graphic-bg::before, .graphic-bg::after {
      content: ""; position: absolute; inset: -10% -10% auto -10%; height: 65vh; pointer-events: none;
      background:
        radial-gradient(1200px 500px at -10% 30%, rgba(255,255,255,.45), transparent 60%),
        radial-gradient(900px 400px at 110% 70%, rgba(255,255,255,.35), transparent 55%),
        radial-gradient(600px 240px at 40% -10%, rgba(255,255,255,.25), transparent 60%);
      filter: blur(0.2px); z-index: -1;
    }
    .graphic-bg::after { top: 40vh; height: 80vh; opacity: .6; }
  </style>
</head>
<body class="bg-[var(--rock-lime)] text-stone-900 graphic-bg">
  <div class="relative z-10 max-w-6xl mx-auto p-4 sm:p-6">
    <header class="mb-6 text-center flex flex-col items-center gap-3">
      <img src="logo-casa.png" alt="Logo Casa Rockambole" class="h-16 sm:h-20 drop-shadow"/>
      <div class="inline-block bg-white/70 backdrop-blur-sm px-4 py-2 rounded-full text-xs tracking-wide text-stone-700 shadow">Calculadora de Orçamento</div>
      <h1 class="mt-2 text-3xl sm:text-5xl font-bold leading-tight">Casa Rockambole</h1>
      <p class="mt-2 text-stone-700 text-sm sm:text-base max-w-2xl">Monte uma estimativa instantânea. Valores indicativos, sujeitos a disponibilidade e visita técnica.</p>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Inputs -->
      <section class="soft-card bg-white p-5 space-y-4">
        <div>
          <label class="block text-sm font-medium">Data</label>
          <input type="date" id="date" class="mt-1 w-full rounded border px-3 py-2" />
        </div>
        <div>
          <label class="block text-sm font-medium">Dia da semana</label>
          <select id="weekday" class="mt-1 w-full rounded border px-3 py-2">
            <option value="auto">Detectar automaticamente</option>
            <option value="segqui">Segunda a Quinta / Domingo</option>
            <option value="sefsab">Sexta ou Sábado</option>
          </select>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div>
            <label class="block text-sm font-medium">Início</label>
            <input type="time" id="start" value="19:00" class="mt-1 w-full rounded border px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium">Duração (h)</label>
            <input type="number" id="hours" value="6" min="1" class="mt-1 w-full rounded border px-3 py-2" />
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium">Convidados</label>
          <input type="number" id="guests" value="100" min="1" class="mt-1 w-full rounded border px-3 py-2" />
        </div>
        <div>
          <label class="block text-sm font-medium">Espaço</label>
          <div class="mt-1 space-y-2">
            <label class="flex items-center gap-2"><input type="radio" name="space" value="cp" checked /> Coreto + Pistinha</label>
            <label class="flex items-center gap-2"><input type="radio" name="space" value="ct" /> Coreto + Teatro</label>
            <label class="flex items-center gap-2"><input type="radio" name="space" value="casa" /> Casa Toda (2 pistas) — (exceto estúdio e escritório)</label>
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium">Bar</label>
          <select id="barType" class="mt-1 w-full rounded border px-3 py-2">
            <option value="vendas">Venda no consumo (sem custo)</option>
            <option value="open">Open bar</option>
            <option value="externo">Bar externo (taxa de liberação)</option>
          </select>
        </div>
        <div id="openBarBlock" class="hidden">
          <label class="block text-sm font-medium">Plano Open Bar</label>
          <select id="openBarOption" class="mt-1 w-full rounded border px-3 py-2">
            <option data-pp="65.90">Essencial — R$65,90 (inclui cerveja Amstel)</option>
            <option data-pp="85.50">Completo — R$85,50 (inclui Heineken, Negroni e mais)</option>
            <option data-pp="97.50">Especial — R$97,50 (inclui drink autoral personalizado)</option>
          </select>
        </div>
        <div id="barExternoBlock" class="hidden">
          <label class="block text-sm font-medium">Taxa de liberação</label>
          <input type="number" id="barFee" value="3000" class="mt-1 w-full rounded border px-3 py-2" />
        </div>
        <div>
          <label class="block text-sm font-medium">Open Food</label>
          <select id="openFoodOption" class="mt-1 w-full rounded border px-3 py-2">
            <option data-pp="89">Festival de Massas / Rodízio de Pizza — R$89</option>
            <option data-pp="130">Finger Foods — R$130</option>
            <option data-pp="150">Gourmet (finger + pratos quentes) — R$150</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium">Extras</label>
          <div class="mt-1 space-y-2">
            <label class="flex items-center gap-2"><input type="checkbox" id="dj" /> DJ — R$1.500</label>
            <label class="flex items-center gap-2"><input type="checkbox" id="cabine" /> Cabine de fotos — R$2.800</label>
            <label class="flex items-center gap-2"><input type="checkbox" id="projetor" /> Projetor + Telão + Notebook — R$1.300</label>
            <label class="flex items-center gap-2"><input type="checkbox" id="cafe4" /> Mesa de Café (4h) — R$8.000</label>
            <label class="flex items-center gap-2"><input type="checkbox" id="cafe8" /> Mesa de Café (8h) — R$9.500</label>
          </div>
        </div>
      </section>

      <!-- Summary -->
      <section class="soft-card bg-white p-5 lg:sticky lg:top-4">
        <h2 class="text-xl font-semibold mb-4">Resumo</h2>
        <div id="summary" class="space-y-2 text-sm"></div>
        <div class="border-t my-4"></div>
        <div class="flex items-end justify-between">
          <div>
            <div class="text-xs text-stone-500">Valor por pessoa (estimativa)</div>
            <div class="text-2xl font-bold">R$ <span id="pp">0,00</span></div>
          </div>
          <div class="text-right">
            <div class="text-xs text-stone-500">Total estimado</div>
            <div class="text-3xl font-extrabold">R$ <span id="total">0,00</span></div>
          </div>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mt-6">
          <button id="copyBtn" class="rounded-2xl px-4 py-3 bg-stone-900 text-white hover:opacity-90">Copiar orçamento</button>
          <button id="waBtn" class="rounded-2xl px-4 py-3 border">Enviar por WhatsApp</button>
        </div>
      </section>
    </div>

    <footer class="text-xs text-stone-700 mt-8 text-center">© Casa Rockambole — Pinheiros, São Paulo</footer>
  </div>

  <script>
    // (script igual ao que já estava na versão anterior, mantendo funções calc, toggleBlocks, bindAll etc.)
    // ...
  </script>
</body>
</html>
